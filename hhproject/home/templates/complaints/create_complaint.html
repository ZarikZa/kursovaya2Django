{% extends 'base.html' %}
{% load static %}

{% block title %}Пожаловаться на вакансию - CareerHub{% endblock %}

{% block content %}
<div class="complaint-section">
    <div class="container">
        <nav class="breadcrumb">
            <div class="breadcrumb-item">
                <a href="{% url 'home_page' %}">Главная</a>
            </div>
            <span class="breadcrumb-separator">›</span>
            <div class="breadcrumb-item">
                <a href="{% url 'vakansi_page' %}">Вакансии</a>
            </div>
            <span class="breadcrumb-separator">›</span>
            <div class="breadcrumb-item">
                <a href="{% url 'vacancy_detail' vacancy.id %}">{{ vacancy.position }}</a>
            </div>
            <span class="breadcrumb-separator">›</span>
            <div class="breadcrumb-item active">
                Жалоба
            </div>
        </nav>

        <div class="complaint-form-container">
            <div class="complaint-header">
                <h1>Пожаловаться на вакансию</h1>
                <p>«{{ vacancy.position }}» — {{ vacancy.company.name }}</p>
            </div>

            <div class="complaint-card">
                <form method="post" class="complaint-form">
                    {% csrf_token %}
                    
                    {% if form.errors %}
                    <div class="form-errors">
                        <p>Пожалуйста, исправьте ошибки ниже:</p>
                        {{ form.non_field_errors }}
                    </div>
                    {% endif %}
                    
                    <div class="form-group">
                        <label for="id_complaint_type" class="form-label">
                            Тип жалобы *
                        </label>
                        {{ form.complaint_type }}
                        {% if form.complaint_type.errors %}
                            <div class="error-text">{{ form.complaint_type.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_description" class="form-label">
                            Дополнительная информация
                        </label>
                        {{ form.description }}
                        {% if form.description.errors %}
                            <div class="error-text">{{ form.description.errors }}</div>
                        {% endif %}
                        <div class="form-help">
                            Опишите подробнее причину вашей жалобы. Это поможет нам быстрее разобраться в ситуации.
                        </div>
                    </div>

                    <div class="complaint-actions">
                        <a href="{% url 'vacancy_detail' vacancy.id %}" class="btn btn-outline">
                            Отмена
                        </a>
                        <button type="submit" class="btn btn-primary">
                            Отправить жалобу
                        </button>
                    </div>
                </form>
            </div>

            <div class="complaint-info">
                <h3>Как мы обрабатываем жалобы?</h3>
                <ul>
                    <li>✅ Жалобы рассматриваются в течение 24-48 часов</li>
                    <li>✅ Все жалобы проверяются вручную модераторами</li>
                    <li>✅ Мы уведомим вас о результате рассмотрения</li>
                    <li>✅ Ваши данные конфиденциальны</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}