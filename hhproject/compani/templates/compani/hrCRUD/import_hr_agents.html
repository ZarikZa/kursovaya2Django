{% extends "base.html" %}
{% load static %}

{% block title %}–ò–º–ø–æ—Ä—Ç HR-–∞–≥–µ–Ω—Ç–æ–≤ - CareerHub{% endblock %}

{% block header %}
    {% include '_inc/header.html' %}
{% endblock %}

{% block content %}
<div class="vacancies-section" style="padding: 120px 0 60px; background: var(--bg-primary); min-height: 100vh;">
    <div class="container" style="max-width: 800px; margin: 0 auto; padding: 0 20px;">
        <div class="profile-card" style="background: var(--bg-card); border-radius: 20px; padding: 40px; box-shadow: var(--shadow-lg); border: 1px solid var(--border-color);">
            
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <div style="text-align: center; margin-bottom: 30px;">
                <h1 style="color: var(--text-primary); font-size: 2rem; font-weight: 700; margin: 0 0 10px 0;">–ò–º–ø–æ—Ä—Ç HR-–∞–≥–µ–Ω—Ç–æ–≤</h1>
                <p style="color: var(--text-secondary); margin: 0;">–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ HR-–∞–≥–µ–Ω—Ç–æ–≤</p>
            </div>

            {% if messages %}
            <div style="margin-bottom: 30px;">
                {% for message in messages %}
                <div style="padding: 12px 16px; border-radius: 10px; margin-bottom: 10px; font-weight: 500; 
                           {% if message.tags == 'error' %}background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid rgba(239, 68, 68, 0.2);
                           {% elif message.tags == 'warning' %}background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid rgba(245, 158, 11, 0.2);
                           {% else %}background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid rgba(16, 185, 129, 0.2);{% endif %}">
                    {{ message }}
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <!-- –§–æ—Ä–º–∞ –∏–º–ø–æ—Ä—Ç–∞ -->
            <form method="post" enctype="multipart/form-data" style="margin-bottom: 30px;">
                {% csrf_token %}
                
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">
                        {{ form.csv_file.label }}
                    </label>
                    {{ form.csv_file }}
                    {% if form.csv_file.help_text %}
                    <div style="margin-top: 5px; font-size: 0.9rem; color: var(--text-secondary);">
                        {{ form.csv_file.help_text }}
                    </div>
                    {% endif %}
                    {% if form.csv_file.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 5px;">
                        {{ form.csv_file.errors }}
                    </div>
                    {% endif %}
                </div>

                <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-top: 30px;">
                    <button type="submit" style="padding: 12px 30px; border: none; border-radius: 10px; background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                        –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <a href="{% url 'hr_agents_list' %}" style="padding: 12px 30px; border: 2px solid var(--border-color); border-radius: 10px; background: transparent; color: var(--text-secondary); text-decoration: none; font-weight: 600; transition: all 0.3s ease;">
                        –û—Ç–º–µ–Ω–∞
                    </a>
                </div>
            </form>

            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–æ—Ä–º–∞—Ç–µ -->
           <div style="background: var(--bg-primary); padding: 20px; border-radius: 12px; border: 1px solid var(--border-color);">
    <h3 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1.1rem;">–§–æ—Ä–º–∞—Ç CSV —Ñ–∞–π–ª–∞:</h3>
    <div style="margin-bottom: 15px;">
        <p style="color: var(--text-secondary); margin: 0 0 10px 0;"><strong>–í–ù–ò–ú–ê–ù–ò–ï:</strong> –ü–∞—Ä–æ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –ù–ï —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ!</p>
        <p style="color: var(--text-secondary); margin: 0 0 10px 0;"><strong>üìß –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:</strong> –ö–∞–∂–¥–æ–º—É HR-–∞–≥–µ–Ω—Ç—É –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–∏—Å—å–º–æ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π email.</p>
        <p style="color: var(--text-secondary); margin: 0 0 10px 0;">–§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –æ—Ç–º–µ—á–µ–Ω—ã *):</p>
        <ul style="color: var(--text-secondary); margin: 0; padding-left: 20px;">
            <li><strong>first_name*</strong> - –ò–º—è</li>
            <li><strong>last_name*</strong> - –§–∞–º–∏–ª–∏—è</li>
            <li><strong>email*</strong> - Email –∞–¥—Ä–µ—Å (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º)</li>
            <li><strong>phone*</strong> - –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</li>
        </ul>
    </div>
    
    <div style="margin-top: 20px;">
        <p style="color: var(--text-secondary); margin: 0 0 10px 0;"><strong>–ü—Ä–∏–º–µ—Ä CSV —Ñ–∞–π–ª–∞:</strong></p>
        <div style="background: var(--bg-card); padding: 15px; border-radius: 8px; font-family: monospace; font-size: 0.9rem; color: var(--text-primary); border: 1px solid var(--border-color);">
            first_name,last_name,email,phone<br>
            –ò–≤–∞–Ω,–ò–≤–∞–Ω–æ–≤,ivan@company.com,+79991234567<br>
            –ú–∞—Ä–∏—è,–ü–µ—Ç—Ä–æ–≤–∞,maria@company.com,+79997654321
        </div>
    </div>
</div>
            <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏–º–ø–æ—Ä—Ç–∞ -->
            {% if request.session.import_errors %}
            <div style="margin-top: 30px;">
                <h3 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1.1rem;">–û—à–∏–±–∫–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:</h3>
                <div style="background: rgba(239, 68, 68, 0.05); padding: 20px; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.2); max-height: 300px; overflow-y: auto;">
                    {% for error in request.session.import_errors %}
                    <div style="padding: 8px 12px; background: rgba(239, 68, 68, 0.1); border-radius: 6px; margin-bottom: 8px; font-size: 0.9rem; color: #ef4444;">
                        {{ error }}
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}